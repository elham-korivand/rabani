<div class="address-page">
  <!-- <div>
    <img src="../../assets/images/cart2.svg"  />
    <div></div>
    <img src="../../assets/images/geo-alt-fill.svg" />
    <div></div>
    <img src="../../assets/images/bicycle.svg"  />
  </div> -->
  <div class="address" style="height: 3rem; padding: 0.5rem">
    <span style="margin-top: 0.5rem; font-size: 0.8rem; margin-left: 1rem">
      سبد خرید
    </span>

    <span style="margin-top: 0.5rem; font-size: 0.8rem"
      >مجموع {{ orderTotal }} تومان
    </span>
  </div>
  <hr style="width: 60%; color: rgb(185, 184, 184)" />
  <div style="margin-left: 28rem">
    <h4 style="margin-bottom: 1rem"><strong> انتخاب آدرس</strong></h4>
    <p style="font-size: 0.8rem">
      لطفا آدرسی را انتخاب کنید و یا آدرس جدید برای دریافت سفارش وارد نمایید.
    </p>
  </div>

  <div
    *ngFor="let address of addresses"
    class="address"
    style="padding: 0.5rem"
  >
    <label class="container">
      <input
        type="checkbox"
        (click)="onSelectAddress(address.Id, $event)"
        [checked]="address.Id == selectedAddressId"
      />
      <span class="checkmark"></span>
    </label>
    <div class="address-recive">
      <p>
        <strong>{{ address.FirstName }} {{ address.LastName }}</strong>
      </p>
      <p style="font-size: 0.8rem">
        {{ address.StateProvinceName }} - {{ address.City }} -
        {{ address.Address1 }}
      </p>
      <p style="font-size: 0.8rem">شماره تماس: {{ address.PhoneNumber }}</p>
    </div>
  </div>
  <button
    type="button"
    class="add-adress"
    type="button"
    data-toggle="modal"
    data-target="#exampleModalLong"
  >
    افزودن آدرس جدید
  </button>
  <button type="button" class="Continu" type="button" (click)="onConfirmAddress()">
    تایید آدرس و ادامه
  </button>
</div>
<div
  class="modal fade"
  id="exampleModalLong"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLongTitle"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title" id="exampleModalLongTitle">افزودن آدرس جدید</h6>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true" style="margin-right: 19.5rem">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #f="ngForm" (ngSubmit)="onSubmit(f)">
          <div class="form-group">
            <label for="exampleInputname">نام</label>
            <input
              type="text"
              class="form-control"
              id="exampleInputEmail1"
              aria-describedby="emailHelp"
              mdbInput
              mdbValidate
              [(ngModel)]="address.firstName"
              name="firstName"
            />
          </div>
          <div class="form-group">
            <label for="name">نام خانوادگی</label>
            <input
              type="text"
              class="form-control"
              id="exampleInputlastname"
              [(ngModel)]="address.lastName"
              name="LastName"
            />
          </div>
          <div class="form-group">
            <label for="exampleInputlastname"> تلفن</label>
            <input
              type="text"
              class="form-control"
              id="exampleInputphone"
              name="PhoneNumber"
              [(ngModel)]="address.PhoneNumber"
            />
          </div>
          <div class="form-group">
            <label for="exampleInputlastname">استان </label>
            <select
              name="State"
              type="text"
              class="form-control"
              id="exampleInputstate"
              [(ngModel)]="address.StateProvinceId"
              name="StateProvinceId"
              (change)="getcity($event)"
            >
              <option
                *ngFor="let item of State"
                [value]="item.id"
                style="font-size: 0.9rem"
              >
                {{ item.name }}
              </option>
            </select>
          </div>
          <div class="form-group">
            <label for="exampleInputlastname">شهر </label>
            <select
              name="City"
              type="text"
              class="form-control"
              id="exampleInputcity"
              name="City"
              [(ngModel)]="address.City"
            >
              <option
                *ngFor="let item of city"
                style="font-size: 0.9rem"
                [value]="item.id"
              >
                {{ item.name }}
              </option>
            </select>
          </div>
          <div class="form-group">
            <label for="exampleInputlastname">آدرس </label>
            <textarea
              class="form-control"
              id="exampleFormaddress"
              rows="3"
              [(ngModel)]="address.Address1"
              name="Address1"
            ></textarea>
          </div>
          <div class="form-group">
            <label for="exampleInputlastname">کد پستی </label>
            <input
              type="text"
              class="form-control"
              id="exampleInputcode"
              [(ngModel)]="address.ZipPostalCode"
              name="ZipPostalCode"
            />
          </div>
          <div class="form-group">
            <label for="exampleInputlastname">پلاک </label>
            <input
              type="text"
              class="form-control"
              id="exampleInputpelak"
              [(ngModel)]="address.Plaque"
              name="Plaque"
            />
          </div>
          <div class="form-group">
            <label for="exampleInputlastname">واحد </label>
            <input
              type="text"
              class="form-control"
              id="exampleInputvahed"
              [(ngModel)]="address.Unit"
              name="Unit"
            />
          </div>
        </form>

        <div class="modal-footer">
          <button
            type="submit"
            class="btn btn-primary"
            data-dismiss="modal"
            aria-label="Close"
            style="background-color: #ffcb53; border: none; color: black"
            (click)="addAddress()"
          >
            ثبت آدرس جدید و ادامه
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
